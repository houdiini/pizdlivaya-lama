!function(e){function t(t){for(var r,a,u=t[0],l=t[1],c=t[2],s=0,f=[];s<u.length;s++)a=u[s],o[a]&&f.push(o[a][0]),o[a]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);for(d&&d(t);f.length;)f.shift()();return i.push.apply(i,c||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,u=1;u<n.length;u++){var l=n[u];0!==o[l]&&(r=!1)}r&&(i.splice(t--,1),e=a(a.s=n[0]))}return e}var r={},o={0:0},i=[];function a(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=r,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(n,r,function(t){return e[t]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="js/";var u=window.webpackJsonp=window.webpackJsonp||[],l=u.push.bind(u);u.push=t,u=u.slice();for(var c=0;c<u.length;c++)t(u[c]);var d=l;i.push([123,1]),n()}({123:function(e,t,n){n(124),e.exports=n(290)},290:function(e,t,n){"use strict";var r,o,i=(r=regeneratorRuntime.mark(function e(t){var n,r,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,h.input.text=t,e.next=4,u.default.post("https://texttospeech.googleapis.com/v1beta1/text:synthesize?key=AIzaSyDqXWG_Pw4kKldwZCBQYsvNYaw7oeV7kG0",h);case 4:return n=e.sent,r=n.data,o=(r=void 0===r?{}:r).audioContent,console.log(x),x.src="data:audio/wav;base64,"+o,C.connect(g),g.connect(w.destination),x.play(),e.abrupt("return",o);case 16:e.prev=16,e.t0=e.catch(0),console.log("errorr",e.t0);case 19:case"end":return e.stop()}},e,this,[[0,16]])}),o=function(){var e=r.apply(this,arguments);return new Promise(function(t,n){return function r(o,i){try{var a=e[o](i),u=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(u).then(function(e){r("next",e)},function(e){r("throw",e)});t(u)}("next")})},function(e){return o.apply(this,arguments)}),a=l(n(291)),u=l(n(293));function l(e){return e&&e.__esModule?e:{default:e}}var c=document.getElementById("canvas"),d=c.getContext("2d"),s=document.getElementById("input"),f={x:0,y:0,w:20,h:20},h=(s.value,{audioConfig:{audioEncoding:"LINEAR16"},input:{text:"Фыр фыр фыр"},voice:{languageCode:"ru-RU",name:"ru-RU-Wavenet-D"}}),p=a.default.debounce(function(){i(s.value)},1e3,!1);s.addEventListener("keyup",p),c.width=window.innerWidth,c.height=window.innerHeight;var v=new Image;v.src="assets/img/lama.png",v.addEventListener("load",function(){f={x:c.width/2+v.width/2*.12,y:c.height-.75*v.height,w:20,h:20},d.drawImage(v,c.width/2-v.width/2,c.height-v.height,v.width,v.height)});var w=new(window.AudioContext||window.webkitAudioContext),g=w.createAnalyser();g.fftSize=64;var y=g.frequencyBinCount,b=new Uint8Array(y),m=new Uint8Array(y);g.getByteTimeDomainData(b);var x=new Audio,C=w.createMediaElementSource(x);document.body.appendChild(x),function e(t){d.clearRect(0,0,c.width,c.height),g.getByteFrequencyData(b),g.getByteFrequencyData(m);Math.abs(b.reduce(function(e,t){return e+t},0));var n=Math.abs(m.reduce(function(e,t){return e+t},0));n=n<0?0:n,d.beginPath(),d.arc(f.x,f.y-20,20+b[5],0,2*Math.PI),d.fillStyle="#fee0d4",d.fill(),d.lineWidth=5,d.strokeStyle="#894554",d.stroke(),d.lineWidth=3,d.lineCap="round",d.lineJoin="round",d.strokeStyle="#964762",d.drawImage(v,c.width/2-v.width/2,c.height-v.height,v.width,v.height),function(e,t,n,r,o,i,a,u){if(void 0===u&&(u=!0),void 0===i&&(i=5),"number"==typeof i)i={tl:i,tr:i,br:i,bl:i};else{var l={tl:0,tr:0,br:0,bl:0};for(var c in l)i[c]=i[c]||l[c]}e.beginPath(),e.moveTo(t+i.tl,n),e.lineTo(t+r-i.tr,n),e.quadraticCurveTo(t+r,n,t+r,n+i.tr),e.lineTo(t+r,n+o-i.br),e.quadraticCurveTo(t+r,n+o,t+r-i.br,n+o),e.lineTo(t+i.bl,n+o),e.quadraticCurveTo(t,n+o,t,n+o-i.bl),e.lineTo(t,n+i.tl),e.quadraticCurveTo(t,n,t+i.tl,n),e.closePath(),a&&e.fill(),u&&e.stroke()}(d,f.x,f.y,12,1+b[5]/17,{tl:0,tr:0,br:4,bl:4},"black","transparent"),window.requestAnimationFrame(e)}(),i(s.value)}});
//# sourceMappingURL=app.ed772eeb7f5edde592d7.js.map